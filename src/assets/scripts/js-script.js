function eitherOr(e,a,t){var o=!!e;return o||jQuery(t.data("bv-callback-selector")).each(function(){jQuery(this).val().length&&(o=!0),e&&a.revalidateField(jQuery(this).attr("name"))}),o}function togglePostInfo(){var e=jQuery(".preferences-list li input[value=post]"),a=e.closest("li").find("small.usage-info");e.prop("checked")?a.removeClass("d-none"):a.addClass("d-none")}function checkMedium(e,a,t){var o=!1,s=!1;return jQuery('[name="'+t.attr("name")+'"]').each(function(){var e=jQuery(this);if("email"==e.val()){var a=jQuery("#preferencesEmail");!e.prop("checked")||a.val().length&&a.prop("disabled")||(o="Please provide an email address if you wish to receive email communications"),e.prop("checked")&&(s=!0)}if("sms"==e.val()){a=jQuery("#preferencesMobile");!e.prop("checked")||a.val().length&&a.prop("disabled")||(o="Please provide a mobile number if you wish to receive SMS communications"),e.prop("checked")&&(s=!0)}"post"==e.val()&&e.prop("checked")&&(s=!0),togglePostInfo()}),s||(o="Please select at least one method of contact"),o&&jQuery('[data-bv-for="'+t.attr("name")+'"]').html(o),!o}!function(e){e(document).ready(function(){history.pushState(null,null,document.URL),window.addEventListener("popstate",function(){history.pushState(null,null,document.URL)}),e(".swapinhash").each(function(){var a=document.location.href.split("#");a=2==a.length?a[1]:"",$this=e(this),!a.length&&$this.data("swapinhash-fallback")&&(a=$this.data("swapinhash-fallback")),$this.html($this.html().replace("#",a)),$this.data("swapinhash-container")&&$this.closest($this.data("swapinhash-container")).css({opacity:0}).removeClass("invisible").animate({opacity:1},500)});var a=[],t=0;e("input").each(function(){var o=e(this),s=t;a[s]=o,o.keydown(function(t){e(this);9==t.keyCode&&(!t.shiftKey&&s<a.length-1&&(t.preventDefault(),a[s+1].focus()),t.shiftKey&&s>0&&(t.preventDefault(),a[s-1].focus()))}),t++}),e(".editable-preference").each(function(){var a=e(this),t=a.find("button"),o=a.find("input"),s=a.find(".editable-status");o.prop("disabled",!0);var i=t.html(),l=function(){var a=o.serialize();t.addClass("disabled"),o.prop("disabled",!0),s.html("Saving...").fadeIn(),$form=e("form.form-validate"),e.post({url:document.location.href,data:a,dataType:"json",success:function(e){e.success?(t.html(i).removeClass("disabled"),s.html("Saved").addClass("success"),$form.data("bootstrapValidator").revalidateField("preferences_form[mediums][]"),setTimeout(function(){s.fadeOut(function(){s.removeClass("success")})},3e3)):(e.errors.length||(e.errors[0]="There was a problem saving your information"),s.html(e.errors[0]).addClass("error"),setTimeout(function(){s.fadeOut(function(){s.removeClass("error")})},5e3),t.removeClass("disabled"),o.prop("disabled",!1))}})};o.keyup(function(e){13==e.keyCode&&l()}),t.click(function(){t.hasClass("disabled")||(o.prop("disabled")?(t.html("Save"),o.prop("disabled",!1).select()):l())})}),e('[data-toggle="tooltip"]').tooltip(),e(".search-toggle").click(function(){e("#search-wrapper").toggleClass("open")}),e(".toggle-button").click(function(){e(".menu-overlay").toggleClass("open"),e(".c-hamburger").toggleClass("is-active"),e("body").toggleClass("no-scroll")});var o=e(".form-validate");o.bootstrapValidator({excluded:[":disabled"],live:"disabled"}),o.each(function(){e(this).data("bootstrap-validator").resetForm(!1)}),o.on("success.form.bv",function(a){a.preventDefault();var t=e(a.target),o=t.data("bootstrapValidator");t.hasClass("form-ajax")?e.ajax({type:"POST",url:t.attr("action"),data:t.serialize()+"&ajax=1",success:function(a){var o=e(a),s=t.data("scroll-to")?e(t.data("scroll-to")).offset().top:0;o.hide(),t.after(o),t.fadeOut(function(){t.slideUp(),o.fadeIn(),e("html, body").animate({scrollTop:s},700)})}}):o.defaultSubmit()}),e("input[data-bv-callback-callback=checkMedium]").change(function(){var e=jQuery(this);e.closest("form").data("bootstrapValidator").revalidateField(e.attr("name"))}),e("input[data-bv-callback-selector]").change(function(){var a=jQuery(this);a.closest("form").data("bootstrapValidator").revalidateField(e(a.data("bv-callback-selector")).attr("name"))})})}(jQuery),jQuery(document).ready(function(){togglePostInfo()});